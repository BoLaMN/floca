var esformatter = require('esformatter')
var format = require( '../generator/formatter.js' )

console.log( esformatter.format(
	'module.exports = {\nalmafa: 1, diofa: 1\n}',
	format
) )

console.log(
	JSON.parse(
		'{\"actors\":[{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},{\"name\":\"Auditor\",\"index\":1,\"alias\":\"Auditor\"},{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},{\"name\":\"Router\",\"index\":4,\"alias\":\"Router\"},{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"}],\"signals\":[{\"type\":\"Signal\",\"message\":\"validate\",\"actorA\":{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},\"actorB\":{\"name\":\"Auditor\",\"index\":1,\"alias\":\"Auditor\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"book\",\"actorA\":{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},\"actorB\":{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"prepare\",\"actorA\":{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},\"actorB\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"sort\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"linetype\":1,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"validate\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Auditor\",\"index\":1,\"alias\":\"Auditor\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"book\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},\"linetype\":0,\"arrowtype\":1},{\"type\":\"Signal\",\"message\":\"findRoute\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Router\",\"index\":4,\"alias\":\"Router\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"dispatch\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"order\",\"actorA\":{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"},\"actorB\":{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"report\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},\"linetype\":0,\"arrowtype\":1}]}'
	)
)

var fs = require('fs')
fs.writeFileSync(
	'./interction.flow.json',
	JSON.stringify( JSON.parse(
		'{\"actors\":[{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},{\"name\":\"Auditor\",\"index\":1,\"alias\":\"Auditor\"},{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},{\"name\":\"Router\",\"index\":4,\"alias\":\"Router\"},{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"}],\"signals\":[{\"type\":\"Signal\",\"message\":\"validate\",\"actorA\":{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},\"actorB\":{\"name\":\"Auditor\",\"index\":1,\"alias\":\"Auditor\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"book\",\"actorA\":{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},\"actorB\":{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"prepare\",\"actorA\":{\"name\":\"Cachier\",\"index\":0,\"published\":false,\"web\":true,\"alias\":\"Cachier\"},\"actorB\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"sort\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"linetype\":1,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"validate\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Auditor\",\"index\":1,\"alias\":\"Auditor\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"book\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},\"linetype\":0,\"arrowtype\":1},{\"type\":\"Signal\",\"message\":\"findRoute\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Router\",\"index\":4,\"alias\":\"Router\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"dispatch\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"order\",\"actorA\":{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"},\"actorB\":{\"name\":\"IO\",\"index\":5,\"published\":true,\"web\":false,\"alias\":\"IO\"},\"linetype\":0,\"arrowtype\":0},{\"type\":\"Signal\",\"message\":\"report\",\"actorA\":{\"name\":\"Collector\",\"index\":3,\"published\":false,\"web\":false,\"alias\":\"Collector\"},\"actorB\":{\"name\":\"Storage\",\"index\":2,\"alias\":\"Storage\"},\"linetype\":0,\"arrowtype\":1}]}'
	) ),
	'utf8'
)
